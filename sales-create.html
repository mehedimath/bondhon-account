<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Invoice - Bondhon Enterprise</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        /* Same CSS */
        body {
            background-color: #f8f9fa
        }

        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            bottom: 0;
            width: 250px;
            padding: 70px 0 0;
            background-color: #f8f9fa;
            ;
            color: #212529;
            height: 100vh;
            overflow-y: auto;
        }

        .sidebar .nav-link {
            color: #212529;
            padding: 10px 20px
        }

        .sidebar .nav-link:hover,
        .sidebar .nav-link.active {
            color: #212529;
            background-color: #e4e5e6
        }

        .sidebar .nav-link .fa {
            width: 20px;
            text-align: center;
            margin-right: 10px
        }

        .nav-sub-link {
            margin-left: 50px;
        }

        .main-content {
            margin-left: 250px;
            padding: 20px;
            padding-top: 70px
        }

        .navbar {
            z-index: 1030
        }

        .navbar-brand {
            font-weight: 700
        }

        .invoice-total-box {
            background-color: #e9ecef;
            border-radius: .375rem;
            padding: 1.5rem
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="dashboard.html">Bondhon Enterprise</a>
            <!-- User Info and Logout Button -->
            <div class="ms-auto d-flex align-items-center">
                <div class="user-info me-3">
                    <i class="fa fa-user-circle"></i> Admin
                </div>
                <a href="index.html" class="btn btn-outline-light btn-sm">
                    <i class="fa fa-sign-out-alt me-1"></i>Logout
                </a>
            </div>
        </div>
    </nav>

    <div class="sidebar">
        <nav class="nav flex-column">
            <a class="nav-link active" href="dashboard.html"><i class="fa fa-tachometer-alt fa-fw"></i> Dashboard</a>
            <a class="nav-link" href="all-create.html"><i class="fa fa-tachometer-alt fa-fw"></i> Quick Add</a>
            <a class="nav-link" data-bs-toggle="collapse" href="#contactsCollapse" role="button" aria-expanded="true">
                <i class="fa fa-users fa-fw"></i> Contacts <i class="fa fa-chevron-down fa-xs float-end mt-1"></i>
            </a>
            <div class="collapse show" id="contactsCollapse">
                <nav class="nav flex-column">
                    <a class="nav-link nav-sub-link" href="customers-list.html">Customers</a>
                    <a class="nav-link nav-sub-link" href="suppliers-manage.html">Suppliers</a>
                </nav>
            </div>
            <a class="nav-link" data-bs-toggle="collapse" href="#inventoryCollapse" role="button" aria-expanded="true">
                <i class="fa fa-box-open fa-fw"></i> Inventory <i class="fa fa-chevron-down fa-xs float-end mt-1"></i>
            </a>
            <div class="collapse show" id="inventoryCollapse">
                <nav class="nav flex-column">
                    <a class="nav-link nav-sub-link" href="inventory-products.html">Product List</a>
                    <a class="nav-link nav-sub-link" href="items-manage.html">Item Categories</a>
                    <a class="nav-link nav-sub-link" href="brands-manage.html">Brands</a>
                </nav>
            </div>
            <a class="nav-link" data-bs-toggle="collapse" href="#purchasesCollapse" role="button" aria-expanded="true">
                <i class="fa fa-shopping-cart fa-fw"></i> Purchases <i
                    class="fa fa-chevron-down fa-xs float-end mt-1"></i>
            </a>
            <div class="collapse show" id="purchasesCollapse">
                <nav class="nav flex-column">
                    <a class="nav-link nav-sub-link" href="purchases-create.html">New Purchase</a>
                    <a class="nav-link nav-sub-link" href="#">Purchase List</a>
                </nav>
            </div>
            <a class="nav-link" data-bs-toggle="collapse" href="#salesCollapse" role="button" aria-expanded="true">
                <i class="fa fa-file-invoice-dollar fa-fw"></i> Sales <i
                    class="fa fa-chevron-down fa-xs float-end mt-1"></i>
            </a>
            <div class="collapse show" id="salesCollapse">
                <nav class="nav flex-column">
                    <a class="nav-link nav-sub-link" href="sales-create.html">New Invoice</a>
                    <a class="nav-link nav-sub-link" href="sales-manage-invoices.html">Invoice List</a>
                    <a class="nav-link nav-sub-link" href="sales-return-create.html">Process Return</a>
                </nav>
            </div>
            <a class="nav-link" data-bs-toggle="collapse" href="#financeCollapse" role="button" aria-expanded="true">
                <i class="fa fa-wallet fa-fw"></i> Finance <i class="fa fa-chevron-down fa-xs float-end mt-1"></i>
            </a>
            <div class="collapse show" id="financeCollapse">
                <nav class="nav flex-column">
                    <a class="nav-link nav-sub-link" href="expenses-manage.html">Manage Expenses</a>
                </nav>
            </div>
            <a class="nav-link" data-bs-toggle="collapse" href="#reportsCollapse" role="button" aria-expanded="true">
                <i class="fa fa-chart-pie fa-fw"></i> Reports <i class="fa fa-chevron-down fa-xs float-end mt-1"></i>
            </a>
            <div class="collapse show" id="reportsCollapse">
                <nav class="nav flex-column">
                    <a class="nav-link nav-sub-link" href="reports-sales.html">Sales Report</a>
                    <a class="nav-link nav-sub-link" href="reports-stock-ledger.html">Stock Ledger</a>
                    <a class="nav-link nav-sub-link" href="reports-customer-dues.html">Customer Dues</a>
                </nav>
            </div>
            <a class="nav-link" href="settings.html"><i class="fa fa-cog fa-fw"></i> Settings</a>
        </nav>
    </div>
    <main class="main-content">
        <div class="container-fluid">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h1 class="h3">Create New Sale / Invoice</h1>
                <a href="sales-manage-invoices.html" class="btn btn-sm btn-outline-secondary"><i
                        class="fa fa-list me-1"></i> View All Invoices</a>
            </div>
            <div class="card">
                <div class="card-body p-4">
                    <div class="row mb-4">
                        <div class="col-md-6"><label for="customerName" class="form-label">Customer Info *</label><input
                                type="text" class="form-control" id="customerName"
                                placeholder="Search Customer Name or Contact #" list="customer-list"><datalist
                                id="customer-list">
                                <option value="Md. Mahfooz | 01613-505311">
                                <option value="Rana (Sukran Group) | 01405-591026">
                                <option value="Salma Akter | 01773-047204">
                            </datalist></div>
                        <div class="col-md-3"><label for="invoiceDate" class="form-label">Invoice Date *</label><input
                                type="date" class="form-control" id="invoiceDate" value="2025-03-03"></div>
                        <div class="col-md-3"><label for="invoiceNumber" class="form-label">Invoice #</label><input
                                type="text" class="form-control" id="invoiceNumber" value="6084" readonly></div>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-bordered" id="invoice-items-table">
                            <thead class="table-light">
                                <tr>
                                    <th style="width: 40%;">Item / Model #</th>
                                    <th style="width: 15%;">Stock</th>
                                    <th style="width: 10%;">Qty</th>
                                    <th style="width: 15%;">Unit Price</th>
                                    <th style="width: 15%;" class="text-end">Total</th>
                                    <th style="width: 5%;" class="text-center">Action</th>
                                </tr>
                            </thead>
                            <tbody id="invoiceItemsTbody">
                                <tr>
                                    <td><input type="text" class="form-control item-selector"
                                            placeholder="Select or type product" list="product-list"><datalist
                                            id="product-list">
                                            <option data-price="25800" data-stock="14" value="43E40Z|SMART TV|VISION">
                                            <option data-price="34140" data-stock="5"
                                                value="WFB-2E0-GDEL-SC|REFRIGERATOR|WALTON">
                                            <option data-price="1760" data-stock="56" value="COMFORT|CEILING FAN|BORAK">
                                        </datalist></td>
                                    <td><input type="text" class="form-control-plaintext text-center item-stock"
                                            value="14" readonly></td>
                                    <td><input type="number" class="form-control item-qty" value="1" min="1"></td>
                                    <td><input type="number" class="form-control item-price" value="25800"></td>
                                    <td class="text-end align-middle fw-bold item-total">৳ 25,800.00</td>
                                    <td class="text-center align-middle"><button
                                            class="btn btn-sm btn-danger delete-row-btn"><i
                                                class="fa fa-trash"></i></button></td>
                                </tr>
                                <tr>
                                    <td><input type="text" class="form-control item-selector"
                                            value="COMFORT|CEILING FAN|BORAK" list="product-list"></td>
                                    <td><input type="text" class="form-control-plaintext text-center item-stock"
                                            value="56" readonly></td>
                                    <td><input type="number" class="form-control item-qty" value="2" min="1"></td>
                                    <td><input type="number" class="form-control item-price" value="1760"></td>
                                    <td class="text-end align-middle fw-bold item-total">৳ 3,520.00</td>
                                    <td class="text-center align-middle"><button
                                            class="btn btn-sm btn-danger delete-row-btn"><i
                                                class="fa fa-trash"></i></button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <button class="btn btn-primary btn-sm" id="addItemBtn"><i class="fa fa-plus me-1"></i> Add Item
                        Row</button>
                    <div class="row mt-4 justify-content-end">
                        <div class="col-lg-5">
                            <div class="invoice-total-box">
                                <div class="d-flex justify-content-between mb-2"><span>Subtotal:</span><span
                                        id="subtotalSpan">৳ 29,320.00</span></div>
                                <div class="d-flex justify-content-between mb-2"><span>Discount:</span><span><input
                                            type="text" class="form-control form-control-sm text-end"
                                            style="width: 100px;" id="discountInput" value="0"
                                            placeholder="% or fixed"></span></div>
                                <hr>
                                <div class="d-flex justify-content-between fw-bold h4 mb-3"><span>GRAND
                                        TOTAL:</span><span id="grandTotalSpan">৳ 29,320.00</span></div>
                                <div class="d-flex justify-content-between mb-2"><label for="downPayment"
                                        class="col-form-label">Down Payment:</label><input type="number"
                                        class="form-control form-control-sm text-end" id="downPayment"
                                        style="width: 120px;" value="15000"></div>
                                <div class="d-flex justify-content-between text-danger fw-bold h5"><span>CLOSING
                                        DUE:</span><span id="closingDueSpan">৳ 14,320.00</span></div>
                            </div>
                        </div>
                    </div>
                    <div class="row mt-4">
                        <div class="col-12 text-end"><button class="btn btn-secondary"><i class="fa fa-save me-1"></i>
                                Save as Draft</button><button class="btn btn-success" id="finalizeBtn"><i
                                    class="fa fa-check-circle me-1"></i> Finalize and Generate Invoice</button></div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>/* Same JS as before */ document.addEventListener('DOMContentLoaded', function () { const e = document.getElementById("invoiceItemsTbody"), t = document.getElementById("addItemBtn"); function n() { let t = 0; e.querySelectorAll("tr").forEach(e => { const n = parseFloat(e.querySelector(".item-qty").value) || 0, o = parseFloat(e.querySelector(".item-price").value) || 0, a = n * o; e.querySelector(".item-total").textContent = `৳ ${a.toFixed(2)}`, t += a }), document.getElementById("subtotalSpan").textContent = `৳ ${t.toFixed(2)}`; const o = document.getElementById("discountInput").value; let a = 0; a = o.includes("%") ? (parseFloat(o.replace("%", "")) || 0) / 100 * t : parseFloat(o) || 0; const c = t - a; document.getElementById("grandTotalSpan").textContent = `৳ ${c.toFixed(2)}`; const d = parseFloat(document.getElementById("downPayment").value) || 0, l = c - d; document.getElementById("closingDueSpan").textContent = `৳ ${l.toFixed(2)}` } t.addEventListener("click", function () { const t = '<tr><td><input type="text" class="form-control item-selector" placeholder="Select or type product" list="product-list"></td><td><input type="text" class="form-control-plaintext text-center item-stock" value="-" readonly></td><td><input type="number" class="form-control item-qty" value="1" min="1"></td><td><input type="number" class="form-control item-price" value="0"></td><td class="text-end align-middle fw-bold item-total">৳ 0.00</td><td class="text-center align-middle"><button class="btn btn-sm btn-danger delete-row-btn"><i class="fa fa-trash"></i></button></td></tr>'; e.insertAdjacentHTML("beforeend", t) }), e.addEventListener("input", function (e) { const t = e.target; if (t.classList.contains("item-selector")) { const e = t.value, o = document.getElementById("product-list").options; for (let a of o) if (a.value === e) { const e = t.closest("tr"); e.querySelector(".item-price").value = a.dataset.price || 0, e.querySelector(".item-stock").value = a.dataset.stock || "-"; break } } (t.classList.contains("item-qty") || t.classList.contains("item-price") || t.classList.contains("item-selector")) && n() }), e.addEventListener("click", function (e) { e.target.closest(".delete-row-btn") && (e.target.closest("tr").remove(), n()) }), document.getElementById("discountInput").addEventListener("input", n), document.getElementById("downPayment").addEventListener("input", n), document.getElementById("finalizeBtn").addEventListener("click", () => { alert('Invoice Finalized! \nIn a real app, this would save to the database and generate a PDF.') }), n() });</script>
</body>

</html>