<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Balance Sheet - Bondhon Enterprise</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
    <style>
      body {
        background-color: #f8f9fa;
      }

      .sidebar {
        position: fixed;
        top: 0;
        left: 0;
        bottom: 0;
        width: 250px;
        padding: 70px 0 0;
        background-color: #f8f9fa;
        color: #212529;
        height: 100vh;
        overflow-y: auto;
      }

      .sidebar .nav-link {
        color: #212529;
        padding: 10px 20px;
      }

      .sidebar .nav-link:hover,
      .sidebar .nav-link.active {
        color: #212529;
        background-color: #e4e5e6;
      }

      .sidebar .nav-link .fa {
        width: 20px;
        text-align: center;
        margin-right: 10px;
      }

      .nav-sub-link {
        margin-left: 50px;
      }

      .main-content {
        margin-left: 250px;
        padding: 20px;
        padding-top: 70px;
      }

      .navbar {
        z-index: 1030;
      }

      .navbar-brand {
        font-weight: 700;
      }
      /* Custom styles for Balance Sheet */
      .category-header {
        font-weight: bold;
        background-color: #f0f0f0;
      }
      .total-row th {
        border-top: 2px solid #000 !important;
        font-weight: bold;
      }
    </style>
  </head>

  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
      <div class="container-fluid">
        <a class="navbar-brand" href="dashboard.html">Bondhon Enterprise</a>
        <div class="ms-auto d-flex align-items-center">
          <div class="text-white me-3">
            <i class="fa fa-user-circle"></i> Admin
          </div>
          <a href="index.html" class="btn btn-outline-light btn-sm"
            ><i class="fa fa-sign-out-alt me-1"></i>Logout</a
          >
        </div>
      </div>
    </nav>

    <!-- Sidebar -->
    <div class="sidebar">
      <nav class="nav flex-column">
        <a class="nav-link active" href="dashboard.html"
          ><i class="fa fa-tachometer-alt fa-fw"></i> Dashboard</a
        >
        <a class="nav-link" href="all-create.html"
          ><i class="fa fa-tachometer-alt fa-fw"></i> Quick Add</a
        >
        <a
          class="nav-link"
          data-bs-toggle="collapse"
          href="#contactsCollapse"
          role="button"
          aria-expanded="true"
        >
          <i class="fa fa-users fa-fw"></i> Contacts
          <i class="fa fa-chevron-down fa-xs float-end mt-1"></i>
        </a>
        <div class="collapse show" id="contactsCollapse">
          <nav class="nav flex-column">
            <a class="nav-link nav-sub-link" href="customers-list.html"
              >Customers</a
            >
            <a class="nav-link nav-sub-link" href="suppliers-manage.html"
              >Suppliers</a
            >
          </nav>
        </div>
        <a
          class="nav-link"
          data-bs-toggle="collapse"
          href="#inventoryCollapse"
          role="button"
          aria-expanded="true"
        >
          <i class="fa fa-box-open fa-fw"></i> Inventory
          <i class="fa fa-chevron-down fa-xs float-end mt-1"></i>
        </a>
        <div class="collapse show" id="inventoryCollapse">
          <nav class="nav flex-column">
            <a class="nav-link nav-sub-link" href="inventory-products.html"
              >Product List</a
            >
            <a class="nav-link nav-sub-link" href="items-manage.html"
              >Item Categories</a
            >
            <a class="nav-link nav-sub-link" href="brands-manage.html"
              >Brands</a
            >
          </nav>
        </div>
        <a
          class="nav-link"
          data-bs-toggle="collapse"
          href="#purchasesCollapse"
          role="button"
          aria-expanded="true"
        >
          <i class="fa fa-shopping-cart fa-fw"></i> Purchases
          <i class="fa fa-chevron-down fa-xs float-end mt-1"></i>
        </a>
        <div class="collapse show" id="purchasesCollapse">
          <nav class="nav flex-column">
            <a class="nav-link nav-sub-link" href="purchases-create.html"
              >New Purchase</a
            >
            <a class="nav-link nav-sub-link" href="purchase_list.html"
              >Purchase List</a
            >
          </nav>
        </div>
        <a
          class="nav-link"
          data-bs-toggle="collapse"
          href="#salesCollapse"
          role="button"
          aria-expanded="true"
        >
          <i class="fa fa-file-invoice-dollar fa-fw"></i> Sales
          <i class="fa fa-chevron-down fa-xs float-end mt-1"></i>
        </a>
        <div class="collapse show" id="salesCollapse">
          <nav class="nav flex-column">
            <a class="nav-link nav-sub-link" href="sales-create.html"
              >New Invoice</a
            >
            <a class="nav-link nav-sub-link" href="sales-manage-invoices.html"
              >Invoice List</a
            >
            <a class="nav-link nav-sub-link" href="sales-return-create.html"
              >Process Return</a
            >
          </nav>
        </div>
        <a
          class="nav-link"
          data-bs-toggle="collapse"
          href="#financeCollapse"
          role="button"
          aria-expanded="true"
        >
          <i class="fa fa-wallet fa-fw"></i> Finance
          <i class="fa fa-chevron-down fa-xs float-end mt-1"></i>
        </a>
        <div class="collapse show" id="financeCollapse">
          <nav class="nav flex-column">
            <a class="nav-link nav-sub-link" href="expenses-manage.html"
              >Manage Expenses</a
            >
          </nav>
        </div>
        <!-- New Collection Links -->
        <a
          class="nav-link"
          data-bs-toggle="collapse"
          href="#collectionsCollapse"
          role="button"
          aria-expanded="true"
          ><i class="fa fa-hand-holding-dollar fa-fw"></i> Collections
          <i class="fa fa-chevron-down fa-xs float-end mt-1"></i
        ></a>
        <div class="collapse show" id="collectionsCollapse">
          <nav class="nav flex-column">
            <a class="nav-link nav-sub-link" href="emi-collection.html"
              >EMI Collection</a
            ><a class="nav-link nav-sub-link" href="due-collection.html"
              >Due Collection</a
            ><a class="nav-link nav-sub-link" href="customer-ledger.html"
              >Customer Ledger</a
            >
          </nav>
        </div>

        <a
          class="nav-link"
          data-bs-toggle="collapse"
          href="#accountingCollapse"
          role="button"
          aria-expanded="true"
          ><i class="fa fa-hand-holding-dollar fa-fw"></i> Accounting
          <i class="fa fa-chevron-down fa-xs float-end mt-1"></i
        ></a>
        <div class="collapse show" id="accountingCollapse">
          <nav class="nav flex-column">
            <a class="nav-link nav-sub-link" href="account-dashboard.html"
              >Accounts Dashboard</a
            ><a class="nav-link nav-sub-link" href="voucher_form.html"
              >Voucher Entry</a
            ><a class="nav-link nav-sub-link" href="voucher-list.html"
              >Voucher List</a
            ><a class="nav-link nav-sub-link" href="trial-balance.html"
              >Trial Balance</a
            ><a class="nav-link nav-sub-link" href="balance-sheet.html"
              >Balance Sheet</a
            >
          </nav>
        </div>

        <a
          class="nav-link"
          data-bs-toggle="collapse"
          href="#reportsCollapse"
          role="button"
          aria-expanded="true"
        >
          <i class="fa fa-chart-pie fa-fw"></i> Reports
          <i class="fa fa-chevron-down fa-xs float-end mt-1"></i>
        </a>
        <div class="collapse show" id="reportsCollapse">
          <nav class="nav flex-column">
            <a class="nav-link nav-sub-link" href="reports-sales.html"
              >Sales Report</a
            >
            <a class="nav-link nav-sub-link" href="reports-stock-ledger.html"
              >Stock Ledger</a
            >
            <a class="nav-link nav-sub-link" href="reports-customer-dues.html"
              >Customer Dues</a
            >
          </nav>
        </div>
        <a class="nav-link" href="settings.html"
          ><i class="fa fa-cog fa-fw"></i> Settings</a
        >
      </nav>
    </div>

    <main class="main-content">
      <div class="container-fluid">
        <h1 class="h3 mb-4">Balance Sheet</h1>
        <div class="card mb-4">
          <div class="card-body">
            <div class="row g-3 align-items-end">
              <div class="col-md-3">
                <label for="asOfDate" class="form-label">As of Date</label>
                <input type="date" class="form-control" id="asOfDate" />
              </div>
              <div class="col-md-2">
                <button class="btn btn-primary w-100" id="generateBtn">
                  Generate
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-header" id="report-header">Balance Sheet</div>
          <div class="card-body">
            <div class="table-responsive">
              <table class="table table-sm">
                <thead>
                  <tr>
                    <th style="width: 50%">Assets</th>
                    <th class="text-end" style="width: 25%">Amount (৳)</th>
                    <th style="width: 25%"></th>
                  </tr>
                </thead>
                <tbody id="assets-tbody">
                  <!-- Asset rows will be injected here -->
                </tbody>
                <tfoot>
                  <tr class="table-dark">
                    <th>Total Assets</th>
                    <th class="text-end" id="totalAssets"></th>
                    <th></th>
                  </tr>
                </tfoot>
              </table>
            </div>
            <hr class="my-4" />
            <div class="table-responsive">
              <table class="table table-sm">
                <thead>
                  <tr>
                    <th style="width: 50%">Liabilities & Equity</th>
                    <th class="text-end" style="width: 25%">Amount (৳)</th>
                    <th style="width: 25%"></th>
                  </tr>
                </thead>
                <tbody id="liabilities-equity-tbody">
                  <!-- Liabilities and Equity rows will be injected here -->
                </tbody>
                <tfoot>
                  <tr class="table-dark">
                    <th>Total Liabilities & Equity</th>
                    <th class="text-end" id="totalLiabilitiesEquity"></th>
                    <th></th>
                  </tr>
                </tfoot>
              </table>
            </div>
          </div>
        </div>
      </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // Set the default date to today
      document.getElementById("asOfDate").valueAsDate = new Date();

      document.getElementById("generateBtn").addEventListener("click", () => {
        // --- Sample Data ---
        // In a real application, you would fetch and calculate this data
        const assets = {
          current: [
            { account: "Cash", amount: 4785000 },
            { account: "Accounts Receivable", amount: 3231000 },
            { account: "Inventory", amount: 25500000 },
            { account: "Bank Account", amount: 200000 },
          ],
          nonCurrent: [
            { account: "Furniture & Fixtures", amount: 1500000 },
            { account: "Vehicles", amount: 2500000 },
          ],
        };

        const liabilities = {
          current: [
            { account: "Accounts Payable", amount: 1800000 },
            { account: "Short-term Loans", amount: 500000 },
          ],
          nonCurrent: [{ account: "Long-term Bank Loan", amount: 4000000 }],
        };

        const equity = [
          { account: "Owner's Capital", amount: 20155000 },
          { account: "Retained Earnings", amount: 11261000 }, // This makes the sheet balance
        ];

        const assetsTbody = document.getElementById("assets-tbody");
        const liabilitiesEquityTbody = document.getElementById(
          "liabilities-equity-tbody"
        );
        const asOfDate = document.getElementById("asOfDate").value;

        // Clear previous report data
        assetsTbody.innerHTML = "";
        liabilitiesEquityTbody.innerHTML = "";

        // Update report header
        document.getElementById(
          "report-header"
        ).textContent = `Balance Sheet as of ${asOfDate || "Today"}`;

        // --- Populate Assets ---
        let totalAssets = 0;
        assetsTbody.innerHTML += `<tr class="category-header"><td colspan="3">Current Assets</td></tr>`;
        assets.current.forEach((item) => {
          assetsTbody.innerHTML += `<tr><td>${
            item.account
          }</td><td class="text-end">${item.amount.toLocaleString()}</td><td></td></tr>`;
          totalAssets += item.amount;
        });

        assetsTbody.innerHTML += `<tr class="category-header"><td colspan="3">Non-Current Assets</td></tr>`;
        assets.nonCurrent.forEach((item) => {
          assetsTbody.innerHTML += `<tr><td>${
            item.account
          }</td><td class="text-end">${item.amount.toLocaleString()}</td><td></td></tr>`;
          totalAssets += item.amount;
        });

        // --- Populate Liabilities & Equity ---
        let totalLiabilitiesEquity = 0;

        // Liabilities
        liabilitiesEquityTbody.innerHTML += `<tr class="category-header"><td colspan="3">Current Liabilities</td></tr>`;
        liabilities.current.forEach((item) => {
          liabilitiesEquityTbody.innerHTML += `<tr><td>${
            item.account
          }</td><td class="text-end">${item.amount.toLocaleString()}</td><td></td></tr>`;
          totalLiabilitiesEquity += item.amount;
        });

        liabilitiesEquityTbody.innerHTML += `<tr class="category-header"><td colspan="3">Non-Current Liabilities</td></tr>`;
        liabilities.nonCurrent.forEach((item) => {
          liabilitiesEquityTbody.innerHTML += `<tr><td>${
            item.account
          }</td><td class="text-end">${item.amount.toLocaleString()}</td><td></td></tr>`;
          totalLiabilitiesEquity += item.amount;
        });

        // Equity
        liabilitiesEquityTbody.innerHTML += `<tr class="category-header"><td colspan="3">Owner's Equity</td></tr>`;
        equity.forEach((item) => {
          liabilitiesEquityTbody.innerHTML += `<tr><td>${
            item.account
          }</td><td class="text-end">${item.amount.toLocaleString()}</td><td></td></tr>`;
          totalLiabilitiesEquity += item.amount;
        });

        // --- Display Totals ---
        document.getElementById("totalAssets").textContent =
          totalAssets.toLocaleString();
        document.getElementById("totalLiabilitiesEquity").textContent =
          totalLiabilitiesEquity.toLocaleString();
      });
    </script>
  </body>
</html>
